<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Servlet Test</title>
</head>
<body>
    <h1>Servlet Connection Test</h1>
    <div id="results"></div>
    
    <script>
        async function testServlets() {
            const results = document.getElementById('results');
            results.innerHTML = '<p>Testing servlet connections...</p>';
            
            const testUrls = [
                '/RegisterServlet',
                '/LoginServlet',
                '/test-db',
                'http://localhost:8085/RegisterServlet',
                'http://localhost:8085/LoginServlet',
                'http://localhost:8085/test-db'
            ];
            
            for (const url of testUrls) {
                try {
                    console.log(`Testing URL: ${url}`);
                    const response = await fetch(url, {
                        method: 'GET'
                    });
                    
                    const contentType = response.headers.get('content-type');
                    const text = await response.text();
                    
                    results.innerHTML += `
                        <div style="border: 1px solid #ccc; margin: 10px; padding: 10px;">
                            <h3>URL: ${url}</h3>
                            <p><strong>Status:</strong> ${response.status}</p>
                            <p><strong>Content-Type:</strong> ${contentType}</p>
                            <p><strong>Response (first 200 chars):</strong></p>
                            <pre style="background: #f5f5f5; padding: 10px; overflow: auto;">${text.substring(0, 200)}...</pre>
                        </div>
                    `;
                } catch (error) {
                    results.innerHTML += `
                        <div style="border: 1px solid red; margin: 10px; padding: 10px;">
                            <h3>URL: ${url}</h3>
                            <p style="color: red;"><strong>Error:</strong> ${error.message}</p>
                        </div>
                    `;
                }
            }
        }
        
        // Run test when page loads
        window.onload = testServlets;
    </script>
</body>
</html>
